<!-- En-tête de l'article -->
<div class="mb-8 relative">
  <!-- Bouton Modifier (positionné en haut à droite) -->
  <% if user_signed_in? %>
    <div class="absolute top-0 right-0">
      <%= link_to "Modifier", edit_article_path(article), class: "px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors" %>
    </div>
  <% end %>
  
  <!-- Contenu centré -->
  <div class="flex flex-col items-center text-center">
    <h1 class="text-4xl font-bold text-gray-900"><%= article.titre %></h1>
    
    <!-- Date -->
    <div class="mt-4">
      <span class="text-gray-700 text-sm md:text-base font-medium">
        Publié le <%= article.created_at.strftime("%d %B %Y") %>
      </span>
    </div>
    
    <!-- Badge thème -->
    <div class="mt-3">
      <span class="inline-flex items-center px-4 py-2 rounded-lg text-sm md:text-base font-semibold w-fit" 
            style="background-color: <%= article.couleur_du_theme %>; color: #ffffff;">
        <%= article.theme %>
      </span>
    </div>
  </div>
</div>

<!-- Image principale -->
<% if article.image_url.present? && valid_url_or_asset?(article.image_url) %>
  <div class="mb-8 rounded-2xl overflow-hidden shadow-lg">
    <img src="<%= article.image_url %>" 
         alt="<%= article.image_alt.present? ? article.image_alt : article.titre %>" 
         class="w-full h-[400px] object-cover"
         loading="lazy">
  </div>
<% end %>

<!-- Contenu principal -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
  <!-- Colonne principale -->
  <div class="lg:col-span-2 space-y-8">
    <!-- Contenu -->
    <% if article.content.present? %>
      <section class="prose prose-sm max-w-none">
        <div class="mt-4 text-gray-600 leading-relaxed text-sm">
          <%= article.content %>
        </div>
      </section>
    <% end %>
  </div>

  <!-- Sidebar -->
  <div class="lg:col-span-1">
    <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-8">
      <!-- Informations -->
      <div class="space-y-6">
        <!-- Thème -->
        <div>
          <h3 class="text-sm font-medium text-gray-500 mb-2">Thème</h3>
          <p class="text-base text-gray-900"><%= article.theme %></p>
        </div>

        <!-- Date de publication -->
        <div class="pt-6 border-t border-gray-200">
          <h3 class="text-sm font-medium text-gray-500 mb-2">Date de publication</h3>
          <p class="text-base text-gray-900"><%= article.created_at.strftime("%d %B %Y") %></p>
        </div>

        <!-- Date de mise à jour -->
        <% if article.updated_at != article.created_at %>
          <div class="pt-6 border-t border-gray-200">
            <h3 class="text-sm font-medium text-gray-500 mb-2">Dernière mise à jour</h3>
            <p class="text-base text-gray-900"><%= article.updated_at.strftime("%d %B %Y") %></p>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>

